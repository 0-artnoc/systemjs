/*
 * SystemJS
 * 
 * Copyright (c) 2013 Guy Bedford
 * MIT License
 */

!function(__$global){function __eval(__source,__global,__address,__sourceMap){try{__source="with(__global) { (function() { "+__source+" \n }).call(__global); }\n//# sourceURL="+__address+(__sourceMap?"\n//# sourceMappingURL="+__sourceMap:""),eval(__source)}catch(e){throw"SyntaxError"==e.name&&(e.message="Evaluating "+__address+"\n	"+e.message),e}}__$global.upgradeSystemLoader=function(){function e(e){function t(e){var t=this;"@traceur"==e.name&&(p=System,m=Module);var r,n=e.source.lastIndexOf("\n");-1!=n&&"//# sourceMappingURL="==e.source.substr(n+1,21)&&(r=a(e.address,e.source.substr(n+22,e.source.length-n-23))),__eval(e.source,t.global,e.address,r),"@traceur"==e.name&&(t.global.traceurSystem=t.global.System,t.global.System=p)}function r(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function a(e,t){function a(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=r(t||""),e=r(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+a(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}var n=e["import"];e["import"]=function(e,t){return n.call(this,e,t).then(function(e){return e.__useDefault?e["default"]:e})},e.set("@empty",Module({})),e.config=function(e){for(var t in e){var r=e[t];if("object"==typeof r){this[t]=this[t]||{};for(var a in r)this[t][a]=r[a]}else this[t]=r}};var o;if("undefined"==typeof window)o=process.cwd()+"/";else if(o=document.baseURI,!o){var s=document.getElementsByTagName("base");o=s[0]&&s[0].href||window.location.href}var i,u=e.locate;e.locate=function(e){return this.baseURL!=i&&(i=a(o,this.baseURL),"/"!=i.substr(i.length-1,1)&&(i+="/"),this.baseURL=i),Promise.resolve(u.call(this,e))};var l=/^\s*export\s*\*\s*from\s*(?:'([^']+)'|"([^"]+)")/,d=/(?:^\s*|[}{\(\);,\n]\s*)(import\s+['"]|(import|module)\s+[^"'\(\)\n;]+\s+from\s+['"]|export\s+(\*|\{|default|function|var|const|let|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*))/,c=e.translate;e.translate=function(e){var r=this;if(r.__exec=t,"@traceur"==e.name)return c.call(r,e);var a;if(!r.global.traceur&&("es6"==e.metadata.format||!e.metadata.format)&&(a=e.source.match(l))){var n=a[1]||a[2];e.metadata.deps=[n],e.metadata.execute=function(e){return e(n)}}return"es6"!=e.metadata.format&&(e.metadata.format||!e.source.match(d))||(e.metadata.format="es6",r.global.traceur)?c.call(r,e):r["import"]("@traceur").then(function(){return c.call(r,e)})};var f=e.instantiate;e.instantiate=function(e){var t=this;return"@traceur"==e.name?(t.__exec(e),{deps:[],execute:function(){return Module({})}}):f.call(t,e)};var p,m;e.__exec=t}function t(e){"undefined"==typeof u&&(u=Array.prototype.indexOf);var t=document.getElementsByTagName("head")[0];e.fetch=function(e){return new Promise(function(r,a){var n=document.createElement("script");n.async=!0,n.addEventListener("load",function(){r("")},!1),n.addEventListener("error",function(e){a(e)},!1),n.src=e.address,t.appendChild(n)})},e.scriptLoader=!0}function r(e){function t(e){for(var t=[],r=0;r<e.length;r++)-1==u.call(t,e[r])&&t.push(e[r]);return t}function r(t,r,a){if("string"!=typeof t&&(a=r,r=t,t=null),0==a.length)throw"Invalid System.register form. Ensure setting --modules=instantiate if using Traceur.";e.defined||(e.defined={}),d={deps:r,declare:a,declarative:!0},t&&(e.defined[t]=d)}function a(e,t,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==u.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var n=0;n<e.normalizedDeps.length;n++){var o=e.normalizedDeps[n],s=t.defined[o];if(s){var i=e.groupIndex+(s.declarative!=e.declarative);if(void 0===s.groupIndex||s.groupIndex<i){if(s.groupIndex&&(r[s.groupIndex].splice(r[s.groupIndex].indexOf(s),1),0==r[s.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");s.groupIndex=i}a(s,t,r)}}}}function n(e,t){var r=t.defined[e];r.groupIndex=0;var n=[];a(r,t,n);for(var s=!!r.declarative==n.length%2,u=n.length-1;u>=0;u--){for(var l=n[u],d=0;d<l.length;d++){var c=l[d];s?o(c,t):i(c,t)}s=!s}}function o(e,t){if(!e.module){var r=[],a=e.declare.call(t.global,r);e.module=a.exports,e.exportStar=a.exportStar,e.execute=a.execute;for(var n=e.module,s=0;s<e.normalizedDeps.length;s++){var i=e.normalizedDeps[s],l=t.defined[i];l?l.module?depModule=l.module:(o(l,t),depModule=l.module):depModule=t.get(i),e.exportStar&&-1!=u.call(e.exportStar,e.normalizedDeps[s])&&!function(e){for(var t in e)(function(t){Object.defineProperty(n,t,{enumerable:!0,get:function(){return e[t]},set:function(r){e[t]=r}})})(t)}(depModule),r[s]=depModule}}}function s(e,t){var r,a=t.defined[e];return a?(a.declarative?l(e,[],t):a.evaluated||i(a,t),r=a.module):r=t.get(e),r.__useDefault?r["default"]:r}function i(e,t){if(!e.module){if(e.module={},!e.executingRequire)for(var r=0;r<e.normalizedDeps.length;r++){var a=e.normalizedDeps[r],n=t.defined[a];n&&i(n,t)}var o;for(var u in t.defined)if(t.defined[u]==e){o=u;break}try{e.evaluated=!0;var l=e.execute(function(r){for(var a=0;a<e.deps.length;a++)if(e.deps[a]==r)return s(e.normalizedDeps[a],t)},e.module,o)}catch(d){throw d}l&&(e.module=l)}}function l(e,t,r){var a=r.defined[e];if(!a.evaluated&&a.declarative){t.push(e);for(var n=0;n<a.normalizedDeps.length;n++){var o=a.normalizedDeps[n];-1==u.call(t,o)&&(r.defined[o]?l(o,t,r):r.get(o))}a.evaluated||(a.evaluated=!0,a.execute.call(r.global),delete a.execute)}}if("undefined"==typeof u&&(u=Array.prototype.indexOf),!e.__exec)throw"loader.__exec(load) needs to be provided for loader.register. See SystemJS core for an implementation example.";var d;e.defined=e.defined||{},e.register=r;var c=/System\.register/,f=e.fetch;e.fetch=function(e){var t=this;return t.defined&&t.defined[e.name]?(e.metadata.format="defined",""):f(e)};var p=e.translate;e.translate=function(e){return this.register=r,e.metadata.deps=e.metadata.deps||[],Promise.resolve(p.call(this,e)).then(function(t){return(e.metadata.init||e.metadata.exports)&&(e.metadata.format=e.metadata.format||"global"),("register"==e.metadata.format||!e.metadata.format&&e.source.match(c))&&(e.metadata.format="register"),t})};var m=e.instantiate;e.instantiate=function(e){var r,a=this;if(a.defined[e.name]?a.defined[e.name]=r=a.defined[e.name]:e.metadata.execute?a.defined[e.name]=r={deps:e.metadata.deps||[],execute:e.metadata.execute,executingRequire:e.metadata.executingRequire}:"register"==e.metadata.format&&(d=null,a.__exec(e),d&&(a.defined[e.name]=r=d)),!r)return m.call(this,e);r.deps=t(r.deps);for(var o=[],s=0;s<r.deps.length;s++)o.push(Promise.resolve(a.normalize(r.deps[s],e.name)));return Promise.all(o).then(function(t){return r.normalizedDeps=t,r.depMap=[],{deps:r.deps,execute:function(){if(r.esmodule)return delete a.defined[e.name],r.esmodule;n(e.name,a),l(e.name,[],a),delete a.defined[e.name];var t=Module(r.module);for(var o in a.defined)a.defined[o].execute==r.execute&&(a.defined[o].esmodule=t);return t}}})}}function a(e){function t(e){r.lastIndex=0,a.lastIndex=0;for(var t,o=[],e=e.replace(n,"");t=a.exec(e);)o.push(t[2]||t[3]);return o}var r=/(?:^\s*|[}{\(\);,\n=:\?\&]\s*|module\.)(exports\s*\[\s*('[^']+'|"[^"]+")\s*\]|\exports\s*\.\s*[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*|exports\s*\=)/,a=/(?:^\s*|[}{\(\);,\n=:\?\&]\s*)require\s*\(\s*("([^"]+)"|'([^']+)')\s*\)/g,n=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm;e._getCJSDeps=t;var o=e.translate;e.translate=function(e){var r=this;return r._getCJSDeps||(r._getCJSDeps=t),o.call(r,e)};var s=function(){},i={nextTick:function(e){setTimeout(e,7)},browser:"undefined"!=typeof window,env:{},argv:[],on:s,once:s,off:s,emit:s,cwd:function(){return"/"}};e.set("@@nodeProcess",Module(i));var u=e.instantiate;e.instantiate=function(n){return n.metadata.format||(r.lastIndex=0,a.lastIndex=0,(a.exec(n.source)||r.exec(n.source))&&(n.metadata.format="cjs")),"cjs"==n.metadata.format&&(n.metadata.deps=n.metadata.deps?n.metadata.deps.concat(t(n.source)):n.metadata.deps,n.metadata.executingRequire=!0,n.metadata.execute=function(t,r){var a=n.address.split("/");a.pop(),a=a.join("/");var o=e.global._g={global:e.global,exports:r,module:{exports:r},process:i,require:t,__filename:n.address,__dirname:a},s="";for(var u in o)s+="var "+u+" = _g."+u+";";n.source=s+n.source,e.global.define=void 0,e.__exec(n),e.global._g=void 0;var l=o.module.exports;return l&&l.__esModule?l:void 0!==l?{__useDefault:!0,"default":l}:void 0}),u.call(this,n)}}function n(e){function t(e,r,a,n){var o=this;if("object"==typeof e&&!(e instanceof Array))return t.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if(!(e instanceof Array)){if("string"==typeof e){var s=o.get(e);return s.__useDefault?s["default"]:s}throw"Invalid require"}Promise.all(e.map(function(e){return o["import"](e,n)})).then(function(e){r.apply(null,e)},a)}function r(e,r,a){return function(n,o,s){return"string"==typeof n?r(n):t.call(a,n,o,s,{name:e})}}function a(e){o=null,e.global.module=void 0,e.global.exports=void 0,e.global.define&&e.global.define.loader==e||(e.global.define=function(t,a,n){if("string"!=typeof t&&(n=a,a=t,t=null),!(a instanceof Array)){if(n=a,!e._getCJSDeps)throw"AMD extension needs CJS extension for AMD CJS support";a=["require","exports","module"].concat(e._getCJSDeps(n.toString()))}if("function"!=typeof n&&(n=function(e){return function(){return e}}(n)),!t&&o)throw"Multiple defines for anonymous module";var s,i,l;-1!=(s=u.call(a,"require"))&&a.splice(s,1),-1!=(i=u.call(a,"exports"))&&a.splice(i,1),-1!=(l=u.call(a,"module"))&&a.splice(l,1),o={deps:a,execute:function(t,o,u){for(var d=[],c=0;c<a.length;c++)d.push(t(a[c]));var f;-1!=l&&d.splice(l,0,o,f={id:u,uri:e.baseURL+u,config:function(){return{}},exports:o}),-1!=i&&d.splice(i,0,o),-1!=s&&d.splice(s,0,r(u,t,e));var p=n.apply(e.global,d);return p=p||f&&f.exports,p&&p.__esModule?p:void 0!==p?{__useDefault:!0,"default":p}:void 0}},t&&(e.defined[t]=o)},e.global.define.amd={},e.global.define.loader=e)}var n=/(?:^\s*|[}{\(\);,\n\?\&]\s*)define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?(\[(\s*("[^"]+"|'[^']+')\s*,)*(\s*("[^"]+"|'[^']+')\s*)?\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/;e.require=t;var o;if(e.scriptLoader){var s=e.fetch;e.fetch=function(e){return a(this),Promise.resolve(s.call(this,e)).then(function(t){return o&&(e.metadata.format="defined",e.metadata.deps=e.metadata.deps?e.metadata.deps.concat(o.deps):o.deps,e.metadata.execute=o.execute),t})}}var i=e.instantiate;e.instantiate=function(e){var t=this;if("amd"==e.metadata.format||!e.metadata.format&&e.source.match(n)){if(e.metadata.format="amd",a(t),t.__exec(e),!o)throw"AMD module "+e.name+" did not define";e.metadata.deps=e.metadata.deps?e.metadata.deps.concat(o.deps):o.deps,e.metadata.execute=o.execute}return i.call(t,e)}}function o(e){function t(e,t){var r=t.split("/"),a=e.split("/");if(r.length>a.length)return 0;for(var n=0;n<r.length;n++)if(a[n]!=r[n])return 0;return r.length}function r(e,r,a){var n,o,s,i,u=0,l=0;if(r)for(var d in a.map){var c=a.map[d];if("object"==typeof c&&!(t(r,d)<=l))for(var f in c)t(e,f)<=u||(n=f,u=f.split("/").length,o=d,l=d.split("/").length)}n&&(i=e.split("/"),s=i.splice(u,i.length-u).join("/"),e=a.map[o][n]+(s?"/"+s:""),u=0);for(var d in a.map){var c=a.map[d];"string"==typeof c&&(t(e,d)<=u||(n=d,u=d.split("/").length))}return u?(i=e.split("/"),s=i.splice(u,i.length-u).join("/"),a.map[n]+(s?"/"+s:"")):e}e.map=e.map||{};var a=e.normalize;e.normalize=function(e,t,n){var o=this;o.map||(o.map={});var s=!1;return"/"==e.substr(e.length-1,1)&&(s=!0,e+="#"),Promise.resolve(a.call(o,e,t,n)).then(function(e){if(e=r(e,t,o),s){var a=e.split("/");a.pop();var n=a.pop();a.push(n),a.push(n),e=a.join("/")}return e})}}function s(e){"undefined"==typeof u&&(u=Array.prototype.indexOf),e.bundles=e.bundles||{};var t=e.fetch;e.fetch=function(r){e.bundles||(e.bundles={});for(var a in e.bundles)if(-1!=u.call(e.bundles[a],r.name))return Promise.resolve(e.normalize(a)).then(function(t){return e.bundles[t]=e.bundles[t]||e.bundles[a],e.load(t)}).then(function(){return""});return t.apply(this,arguments)}}function i(e){"undefined"==typeof u&&(u=Array.prototype.indexOf);var t=/^(\d+)(?:\.(\d+)(?:\.(\d+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?)?)?$/,r=function(e,t){var r,a=e.split("."),n=t.split(".");a[2]&&-1!=(r=u.call(a[2],"-"))&&a.splice(2,1,a[2].substr(0,r),a[2].substr(r+1)),n[2]&&-1!=(r=u.call(n[2],"-"))&&n.splice(2,1,n[2].substr(0,r),n[2].substr(r+1));for(var o=0;o<Math.max(a.length,n.length);o++){if(!a[o])return 1;if(!n[o])return-1;if(a[o]!=n[o])return parseInt(a[o])>parseInt(n[o])?1:-1}return 0};e.versions=e.versions||{};var a=e.normalize;e.normalize=function(n,o,s){e.versions||(e.versions={});var i=this.versions;return Promise.resolve(a.call(this,n,o,s)).then(function(e){var a,n,o,s,l=e.indexOf("@");if(-1==l||0==l){for(var d in i)if(s=i[d],e.substr(0,d.length)==d&&(o=e.substr(d.length,1),!o||"/"==o))return d+"@"+("string"==typeof s?s:s[s.length-1])+e.substr(d.length);return e}a=e.substr(l+1).split("/")[0];var c,f=a.length;if("^"==a.substr(0,1)&&(a=a.substr(1),c=!0),n=a.match(t),!n)return e;c&&(n[2]||(c=!1),n[3]||(n[2]>0?n[3]="0":c=!1)),c&&(n[1]>0?(n[2]||(a=n[1]+".0.0"),n[3]||(a=n[1]+".0"),c=a,n=[n[1]]):n[2]>0?(c=a,n=[0,n[2]]):(c=!1,n=[0,0,n[3]]),a=n.join("."));var p=e.substr(0,l);if(s=i[p]||[],"string"==typeof s&&(s=[s]),!n[3]||c)for(var m=s.length-1;m>=0;m--){var h=s[m];if(h.substr(0,a.length)==a&&h.substr(a.length,1).match(/^[\.\-]?$/)&&(!c||c&&-1!=r(h,c)))return p+"@"+h+e.substr(p.length+f+1)}return-1==u.call(s,a)&&(s.push(a),s.sort(r),e=p+"@"+a+e.substr(p.length+f+1),n[3]&&-1!=(l=u.call(s,n[1]+"."+n[2]))&&s.splice(l,1),n[2]&&-1!=(l=u.call(s,n[1]))&&s.splice(l,1),i[p]=1==s.length?s[0]:s),e})}}__$global.upgradeSystemLoader=void 0;var u=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1};if(e(System),t(System),r(System),a(System),n(System),o(System),s(System),i(System),__$curScript){System.baseURL=__$curScript.getAttribute("data-baseurl")||System.baseURL;var l=__$curScript.getAttribute("data-config");l&&"/"===l.substr(l.length-1)&&(l+="config.json");var d=__$curScript.getAttribute("data-main");System.paths["@traceur"]||(System.paths["@traceur"]="undefined"!=typeof __$curScript&&__$curScript.getAttribute("data-traceur-src")),(l?Promise.resolve(System.fetch.call(System,{address:l,metadata:{}})).then(JSON.parse).then(System.config):Promise.resolve()).then(function(){return d?System["import"](d):void 0})["catch"](function(e){setTimeout(function(){throw e})})}};var __$curScript;!function(e){if("undefined"!=typeof window){var t=document.getElementsByTagName("script");if(__$curScript=t[t.length-1],!e.System||e.System.registerModule){var r=__$curScript.src,a=r.substr(0,r.lastIndexOf("/")+1);document.write('<script type="text/javascript" src="'+a+'es6-module-loader.js" data-init="upgradeSystemLoader"></script>')}else e.upgradeSystemLoader()}else{var n=require("es6-module-loader");e.System=n.System,e.Loader=n.Loader,e.Module=n.Module,module.exports=e.System,e.upgradeSystemLoader()}}(__$global)}("undefined"!=typeof window?window:global);