/*
 * SystemJS
 * 
 * Copyright (c) 2013 Guy Bedford
 * MIT License
 */

!function(__$global){var indexOf=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1};__$global.upgradeSystemLoader=function(){function core(loader){function __eval(__source,__global,__address,__sourceMap){try{__source="with(__global) { (function() { "+__source+" \n }).call(__global); }\n//# sourceURL="+__address+(__sourceMap?"\n//# sourceMappingURL="+__sourceMap:""),eval(__source)}catch(e){throw"SyntaxError"==e.name&&(e.message="Evaluating "+__address+"\n	"+e.message),e}}!function(){function e(e){"@traceur"==e.name&&(f=System);var t,a=e.source.lastIndexOf("\n");-1!=a&&"//# sourceMappingURL="==e.source.substr(a+1,21)&&(t=r(e.address,e.source.substr(a+22))),__eval(e.source,this.global,e.address,t),"@traceur"==e.name&&(this.global.traceurSystem=this.global.System,this.global.System=f)}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function r(e,r){function a(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return r=t(r||""),e=t(e||""),r&&e?(r.protocol||e.protocol)+(r.protocol||r.authority?r.authority:e.authority)+a(r.protocol||r.authority||"/"===r.pathname.charAt(0)?r.pathname:r.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+r.pathname:e.pathname)+(r.protocol||r.authority||r.pathname?r.search:r.search||e.search)+r.hash:null}var a=loader["import"];loader["import"]=function(e,t){return a.call(this,e,t).then(function(e){return e.__useDefault?e["default"]:e})},loader.set("@empty",Module({})),loader.config=function(e){for(var t in e){var r=e[t];if("object"==typeof r){this[t]=this[t]||{};for(var a in r)this[t][a]=r[a]}else this[t]=r}};var n;if("undefined"==typeof window)n=__dirname+"/";else if(n=document.baseURI,!n){var o=document.getElementsByTagName("base");n=o[0]&&o[0].href||window.location.href}var i,s=loader.locate;loader.locate=function(e){return this.baseURL!=i&&(i=r(n,this.baseURL),"/"!=i.substr(i.length-1,1)&&(i+="/"),this.baseURL=i),Promise.resolve(s.call(this,e))};var l=/^\s*export\s*\*\s*from\s*(?:'([^']+)'|"([^"]+)")/,d=/(?:^\s*|[}{\(\);,\n]\s*)(import\s+['"]|(import|module)\s+[^"'\(\)\n;]+\s+from\s+['"]|export\s+(\*|\{|default|function|var|const|let|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*))/,u=loader.translate;loader.translate=function(t){var r=this;r.__exec=e;var a;if(!r.global.traceur&&("es6"==t.metadata.format||!t.metadata.format)&&(a=t.source.match(l))){var n=a[1]||a[2];t.metadata.deps=[n],t.metadata.execute=function(e){return e(n)}}return"es6"!=t.metadata.format&&(t.metadata.format||!t.source.match(d))||(t.metadata.format="es6",r.global.traceur)?u.call(r,t):r["import"]("@traceur").then(function(){return u.call(r,t)})};var c=loader.instantiate;loader.instantiate=function(e){var t=this;return"@traceur"==e.name?(t.__exec(e),{deps:[],execute:function(){}}):c.call(t,e)};var f;loader.__exec=e}()}function register(e){function t(e){for(var t=[],r=0;r<e.length;r++)-1==indexOf.call(t,e[r])&&t.push(e[r]);return t}function r(t,r,a){if(0==a.length)throw"Invalid System.register form. Ensure setting --modules=instantiate if using Traceur.";e.defined||(e.defined={}),"string"!=typeof t&&(a=r,r=t,t=null),d={deps:r,declare:a,declarative:!0},t&&(e.defined[t]=d)}function a(e,t,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==indexOf.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var n=0;n<e.normalizedDeps.length;n++){var o=e.normalizedDeps[n],i=t.defined[o];if(i){var s=e.groupIndex+(i.declarative!=e.declarative);if(void 0===i.groupIndex)i.groupIndex=s;else if(i.groupIndex!=s)throw new TypeError("System.register mixed dependency cycle");a(e,t,r)}}}}function n(e,t){var r=t.defined[e];r.groupIndex=0;var n=[];a(r,t,n);for(var i=r.declarative==n.length%2,l=n.length-1;l>=0;l--){for(var d=n[l],u=0;u<d.length;u++){var c=d[u];i?o(c,t):s(c,t)}i=!i}}function o(e,t){if(!e.module){var r=[],a=load.declare.call(t.global,r);e.module=a.exports,e.exportStar=a.exportStar,e.execute=a.execute;for(var n=e.module,i=0;i<e.normalizedDeps.length;i++){var s=e.normalizedDeps[i],l=t.defined[s];l?l.module?depModule=l.module:(o(l,t),depModule=l.module):depModule=t.get(s),e.exportStar&&-1!=indexOf.call(e.exportStar,e.normalizedDeps[i])&&!function(e){for(var t in e)(function(t){Object.defineProperty(n,t,{enumerable:!0,get:function(){return e[t]},set:function(r){e[t]=r}})})(t)}(depModule),r[i]=depModule}}}function i(e,t){var r=t.defined[e];return r?(r.declarative?l(e,[],t):r.evaluated||s(r,t),r.module):t.get(e)}function s(e,t){if(!e.module){if(e.module={},!e.executingRequire)for(var r=0;r<e.normalizedDeps.length;r++){var a=e.normalizedDeps[r],n=t.defined[a];n&&s(n,t)}try{e.evaluated=!0;var o=e.execute(function(r){for(var a=0;a<e.deps.length;a++)if(e.deps[a]==r)return i(e.normalizedDeps[a],t)},e.module,name)}catch(l){throw l}o&&(e.module=o)}}function l(e,t,r){var a=r.defined[e];if(a.declarative&&!a.evaluated&&-1==indexOf.call(t,e)){t.push(e);for(var n=0;n<a.normalizedDeps.length;n++){var o=a.normalizedDeps[n];if(-1!=indexOf.call(t,o)){var i=r.defined[o];i&&!i.evaluated&&(i.execute.call(r.global),delete i.execute)}else l(o,t)}a.execute.call(r.global),a.evaluated=!0}}if("undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf),!e.__exec)throw"loader.__exec(load) needs to be provided for loader.register. See SystemJS core for an implementation example.";var d;e.defined=e.defined||{},e.register=r;var u=/System\.register/,c=e.fetch;e.fetch=function(e){var t=this;return t.defined&&t.defined[e.name]?"":c(e)};var f=e.translate;e.translate=function(t){return e.register=r,t.metadata.deps=t.metadata.deps||[],("register"==t.metadata.format||!t.metadata.format&&t.source.match(u))&&(t.metadata.format="register"),f.call(this,t)};var m=e.instantiate;e.instantiate=function(e){var r,a=this;if(a.defined[e.name]?a.defined[e.name]=r=a.defined[e.name]:e.metadata.execute?a.defined[e.name]=r={deps:e.metadata.deps||[],execute:e.metadata.execute,executingRequire:e.metadata.executingRequire}:"register"==e.metadata.format&&(d=null,a.__exec(e),d&&(a.defined[e.name]=r=d)),!r)return m.call(this,e);r.deps=t(r.deps);for(var o=[],i=0;i<r.deps.length;i++)o.push(Promise.resolve(a.normalize(r.deps[i],e.name)));return Promise.all(o).then(function(t){return r.normalizedDeps=t,r.depMap=[],{deps:r.deps,execute:function(){n(e.name,a),l(e.name,[],a),delete a.defined[e.name];var t=Module(r.module);for(var o in a.defined)a.defined[o].execute==r.execute&&(a.has(o)||a.set(o,t));return t}}})}}function scriptLoader(e){"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf);var t=document.getElementsByTagName("head")[0];e.fetch=function(e){return new Promise(function(r,a){var n=document.createElement("script");n.async=!0,n.addEventListener("load",function(){r("")},!1),n.addEventListener("error",function(e){a(e)},!1),n.src=e.address,t.appendChild(n)})}}function map(e){function t(e,t){var r=t.split("/"),a=e.split("/");if(r.length>a.length)return 0;for(var n=0;n<r.length;n++)if(a[n]!=r[n])return 0;return r.length}function r(e,r,a){var n,o,i,s,l=0,d=0;if(r)for(var u in a.map){var c=a.map[u];if("object"==typeof c&&!(t(r,u)<=d))for(var f in c)t(e,f)<=l||(n=f,l=f.split("/").length,o=u,d=u.split("/").length)}n&&(s=e.split("/"),i=s.splice(l,s.length-l).join("/"),e=a.map[o][n]+(i?"/"+i:""),l=0);for(var u in a.map){var c=a.map[u];"string"==typeof c&&(t(e,u)<=l||(n=u,l=u.split("/").length))}return l?(s=e.split("/"),i=s.splice(l,s.length-l).join("/"),a.map[n]+(i?"/"+i:"")):e}e.map=e.map||{};var a=e.normalize;e.normalize=function(e,t,n){var o=this;return o.map||(o.map={}),Promise.resolve(a.call(o,e,t,n)).then(function(e){return r(e,t,o)})}}function bundles(e){"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf),e.bundles=e.bundles||{};var t=e.fetch;e.fetch=function(r){e.bundles||(e.bundles={});for(var a in e.bundles)if(-1!=indexOf.call(e.bundles[a],r.name))return Promise.resolve(e.normalize(a)).then(function(t){return e.bundles[t]=e.bundles[t]||e.bundles[a],e.load(t)}).then(function(){return""});return t.apply(this,arguments)}}function versions(e){"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf);var t=/^(\d+)(?:\.(\d+)(?:\.(\d+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?)?)?$/,r=function(e,t){var r,a=e.split("."),n=t.split(".");a[2]&&-1!=(r=indexOf.call(a[2],"-"))&&a.splice(2,1,a[2].substr(0,r),a[2].substr(r+1)),n[2]&&-1!=(r=indexOf.call(n[2],"-"))&&n.splice(2,1,n[2].substr(0,r),n[2].substr(r+1));for(var o=0;o<Math.max(a.length,n.length);o++){if(!a[o])return 1;if(!n[o])return-1;if(a[o]!=n[o])return parseInt(a[o])>parseInt(n[o])?1:-1}return 0};e.versions=e.versions||{};var a=e.normalize;e.normalize=function(n,o,i){e.versions||(e.versions={});var s=this.versions;return Promise.resolve(a.call(this,n,o,i)).then(function(e){var a,n,o,i,l=e.indexOf("@");if(-1==l){for(var d in s)if(i=s[d],e.substr(0,d.length)==d&&(o=e.substr(d.length,1),!o||"/"==o))return d+"@"+("string"==typeof i?i:i[i.length-1])+e.substr(d.length);return e}a=e.substr(l+1).split("/")[0];var u,c=a.length;if("^"==a.substr(0,1)&&(a=a.substr(1),u=!0),n=a.match(t),!n)return e;u&&(n[2]||(u=!1),n[3]||(n[2]>0?n[3]="0":u=!1)),u&&(n[1]>0?(n[2]||(a=n[1]+".0.0"),n[3]||(a=n[1]+".0"),u=a,n=[n[1]]):n[2]>0?(u=a,n=[0,n[2]]):(u=!1,n=[0,0,n[3]]),a=n.join("."));var f=e.substr(0,l);if(i=s[f]||[],"string"==typeof i&&(i=[i]),!n[3]||u)for(var m=i.length-1;m>=0;m--){var p=i[m];if(p.substr(0,a.length)==a&&p.substr(a.length,1).match(/^[\.\-]?$/)&&(!u||u&&-1!=r(p,u)))return f+"@"+p+e.substr(f.length+c+1)}return-1==indexOf.call(i,a)&&(i.push(a),i.sort(r),e=f+"@"+a+e.substr(f.length+c+1),n[3]&&-1!=(l=indexOf.call(i,n[1]+"."+n[2]))&&i.splice(l,1),n[2]&&-1!=(l=indexOf.call(i,n[1]))&&i.splice(l,1),s[f]=1==i.length?i[0]:i),e})}}__$global.upgradeSystemLoader=void 0,core(System),register(System),scriptLoader(System),map(System),bundles(System),versions(System),System.baseURL=__$curScript.getAttribute("data-baseurl")||System.baseURL;var configPath=__$curScript.getAttribute("data-config");""===configPath&&(configPath=System.baseURL+"config.json");var main=__$curScript.getAttribute("data-main");System.paths["@traceur"]||(System.paths["@traceur"]="undefined"!=typeof __$curScript&&__$curScript.getAttribute("data-traceur-src")),(configPath?Promise.resolve(System.fetch.call(System,{address:configPath,metadata:{}})).then(JSON.parse).then(System.config):Promise.resolve()).then(function(){return main?System["import"](main):void 0})["catch"](function(e){setTimeout(function(){throw e})})};var __$curScript;!function(e){if("undefined"!=typeof window){var t=document.getElementsByTagName("script");if(__$curScript=t[t.length-1],!e.System||e.System.registerModule){var r=__$curScript.src,a=r.substr(0,r.lastIndexOf("/")+1);document.write('<script type="text/javascript" src="'+a+'es6-module-loader.js" data-init="upgradeSystemLoader"></script>')}else e.upgradeSystemLoader()}else{var n=require("es6-module-loader");e.System=n.System,e.Loader=n.Loader,e.Module=n.Module,module.exports=e.System,e.upgradeSystemLoader()}}(__$global)}("undefined"!=typeof window?window:global);