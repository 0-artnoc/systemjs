/*
 * SystemJS
 * 
 * Copyright (c) 2013 Guy Bedford
 * MIT License
 */

!function(global){if(global.upgradeSystemLoader=function(){delete global.upgradeSystemLoader,function(){if("undefined"==typeof System)throw"System not defined. Include the `es6-module-loader.js` polyfill before SystemJS.";var e=function(t){if(!(t instanceof Module)){for(var a=[],r=0;r<t.length;r++)a[r]=e(t[r]);return a}return t.__defaultOnly?t["default"]:t},t=System.get;System.get=function(a){var r=t.call(this,a);return e(r)};var a=System.import;System.import=function(t,r){return new Promise(function(e){e(System.normalize.call(this,t,r&&r.name,r&&r.address))}).then(function(e){return a.call(System,e,r)}).then(function(t){return e(t)})}}(),function(){function __scopedEval(__source,global,__sourceURL){try{eval("with(global) { (function() { "+__source+" \n }).call(global); }"+(__sourceURL&&!__source.match(/\/\/[@#] ?(sourceURL|sourceMappingURL)=([^\n]+)/)?"\n//# sourceURL="+__sourceURL:""))}catch(e){throw"SyntaxError"==e.name&&(e.message="Evaluating "+__sourceURL+"\n	"+e.message),e}}!function(e){function t(e){var t=e.match(/\n/g);return e.length/(t&&t.length||1)>100}function a(e){for(var t,a,r=0,n="",o="",s=!1,l=!1,i=!1,u=!1,m=!1,d=!1,c="",f=0,g=e.length;g>=f;f++)if(t=c,c=e.charAt(f),"\n"!==c&&"\r"!==c&&""!==c){if(" "!==t&&"	"!==t&&(a=t),(s||l||i)&&"\\"==c&&"\\"==t&&(m=!m),s)"'"!==c||"\\"===t&&!m||(s=m=!1);else if(l)'"'!==c||"\\"===t&&!m||(l=m=!1);else if(i)"/"!==c||"\\"===t&&!m||("/"==e.charAt(f+1)?i=m=!1:(i=m=!1,f++,a=t=c,c=e.charAt(f)));else if(u)o+=" ","/"===c&&"*"===t&&o.length>3&&(u=!1,r=f+1);else if(!d){if(l='"'===c,s="'"===c,"/"!==t)continue;"*"===c?(u=!0,n+=o+e.substring(r,f-1),o="  "):"/"===c?(d=!0,n+=o+e.substring(r,f-1),o=""):"}"===a||")"===a||"]"===a||a.match(/\w|\d|'|"|\-|\+/)||(i=!0)}}else i=l=s=m=!1,d&&(r=f,d=!1),u&&(o+=c),a="";return n+o+e.substr(r)}System.format={},System.formats=[];var r=/(?:^\s*|[}{\(\);,\n]\s*)(import\s+['"]|(import|module)\s+[^"'\(\)\n;]+\s+from\s+['"]|export\s+(\*|\{|default|function|var|const|let|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*))/,n=/^(\s*(\/\*.*\*\/)|(\/\/[^\n]*))*(["']use strict["'];?)?["']([^'"]+)["'][;\n]/,o=function(e){if(!(e instanceof Module)){for(var t=[],a=0;a<e.length;a++)t[a]=o(e[a]);return t}return e.__defaultOnly?e["default"]:e},s=System.instantiate;System.instantiate=function(l){var i=l.name||"";if("traceur"==i)return s.call(this,l);var u=l.source,m=l.metadata.format;if(!m){var d=l.source.match(n);d&&(m=d[5])}if("es6"==m||!m&&u.match(r))return l.metadata.es6=!0,s.call(System,l);m||t(u)||(u=a(u));for(var c=0;c<this.formats.length;c++){var f=this.formats[c];if(!m||m==f){var g,p=this.format[f];if((g=p.detect(u,l))||m){var h=p.execute;return{deps:g,execute:function(){for(var t={},a=0;a<arguments.length;a++)t[g[a]]=o(arguments[a]);var r=h(l,t,e,function(){__scopedEval(l.source,e,l.address)});return r instanceof e.Module?r:new e.Module(r&&r.__module?r.__module:{__defaultOnly:!0,"default":r})}}}}}if(m&&"global"!=m)throw new TypeError('Format "'+m+'" not defined in System')}}("undefined"!=typeof window?window:global)}(),function(){System.formats.push("amd");var amdDefineRegEx=/(?:^\s*|[}{\(\);,\n\?\&]\s*)define\s*\(\s*("[^"]+"\s*,|'[^']+'\s*,\s*)?(\[(\s*("[^"]+"|'[^']+')\s*,)*(\s*("[^"]+"|'[^']+')\s*)?\])?/g,cjsDefineRegEx=/(?:^\s*|[}{\(\);,\n\?\&]\s*)define\s*\(\s*(("[^"]+"\s*,|'[^']+'\s*,)?("[^"]+"\s*,|'[^']+'\s*,)?function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/g,cjsRequireRegEx=/(?:^\s*|[}{\(\);,\n=:\?\&]\s*)require\s*\(\s*("([^"]+)"|'([^']+)')\s*\)/g;System.requirejs=function(e,t,a,r){if("object"==typeof e&&!(e instanceof Array))return System.require.apply(null,Array.prototype.splice.call(arguments,1));if("object"==typeof t?(r=t,t=void 0):"object"==typeof a&&(r=a,a=void 0),!(e instanceof Array)){if("string"==typeof e)return System.get(e);throw"Invalid require"}for(var n=[],o=0,s=!1,l=function(e){s||(s=!0,a(e))},i=0;i<e.length;i++)(function(a){System.import(e[a]).then(function(r){n[a]=r,o++,o==e.length&&t(n)},l)})()},System.format.amd={detect:function(source,load){amdDefineRegEx.lastIndex=0,cjsDefineRegEx.lastIndex=0;var match,deps;if(!((match=cjsDefineRegEx.exec(source))||(match=amdDefineRegEx.exec(source))&&(match[1]||match[2])&&(deps=eval(match[2]))))return!1;if(!deps)for(deps=["require","exports","module"];match=cjsRequireRegEx.exec(source);)deps.push(match[2]||match[3]);var index,meta=load.metadata;return(meta.require=-1!=(index=deps.indexOf("require")))&&deps.splice(index,1),(meta.exports=-1!=(index=deps.indexOf("exports")))&&deps.splice(index,1),(meta.module=-1!=(index=deps.indexOf("module")))&&deps.splice(index,1),deps},execute:function(e,t,a,r){var n=e.metadata;n.module&&(t.module={id:e.name,uri:e.address,config:function(){return{}}}),n.exports&&(t.exports={});var o=e.name,s=e.address;n.require&&(t.require=function(e,a,r){return"string"==typeof e&&e in t?t[e]:System.requirejs(e,a,r,{name:o,address:s})});var l;return a.require=a.requirejs=System.requirejs,a.define=function(e,r){"string"==typeof e&&(e=arguments[1],r=arguments[2]),e instanceof Array||(r=e,"function"==typeof e&&(e=["require","exports","module"]));for(var n=0;n<e.length;n++)e[n]=t[e[n]];l="function"==typeof r?r.apply(a,e)||t.exports:r},a.define.amd={},delete a.module,delete a.exports,r(),delete a.define,delete a.require,delete a.requirejs,l}}}(),function(){System.formats.push("cjs");var e=/(?:^\s*|[}{\(\);,\n=:\?\&]\s*|module\.)(exports\s*\[\s*('[^']+'|"[^"]+")\s*\]|\exports\s*\.\s*[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*|exports\s*\=)/,t=/(?:^\s*|[}{\(\);,\n=:\?\&]\s*)require\s*\(\s*("([^"]+)"|'([^']+)')\s*\)/g,a={nextTick:function(e){setTimeout(e,7)}};System.format.cjs={detect:function(a){e.lastIndex=0,t.lastIndex=0;var r=t.exec(a);if(!r&&!a.match(e))return!1;var n,o=[];for((n=r)&&o.push(n[2]||n[3]);n=t.exec(a);)o.push(n[2]||n[3]);return o},execute:function(e,t,r,n){var o=e.address.split("/");o.pop(),o=o.join("/");var s=r._g={global:r,exports:{},process:a,require:function(e){return t[e]},__filename:e.address,__dirname:o};s.module={exports:s.exports};var l="";for(var i in s)l+="var "+i+" = _g."+i+";";return e.source=l+e.source,n(),delete r._g,s.module.exports}}}(),function(){System.formats.push("global");var globalShimRegEx=/(["']global["'];\s*)((['"]import [^'"]+['"];\s*)*)(['"]export ([^'"]+)["'])?/,globalImportRegEx=/(["']import [^'"]+)+/g,moduleGlobals={};System.shim={},System.format.global={detect:function(e,t){var a,r;if(a=e.match(globalShimRegEx)){if(r=a[2].match(globalImportRegEx))for(var n=0;n<r.length;n++)r[n]=r[n].substr(8);t.metadata.globalExport=a[5]}r=r||[];var o;return(o=System.shim[t.name])&&("object"==typeof o&&(o.exports&&(t.metadata.globalExport=o.exports),o.imports&&(o=o.imports)),o instanceof Array&&(r=r.concat(o))),r},execute:function(load,depMap,global,execute){var globalExport=load.metadata.globalExport;for(var d in depMap){var module=depMap[d],moduleGlobal;for(var m in System._modules)if(System._modules[m]===module){moduleGlobal=moduleGlobals[m];break}if(moduleGlobal)for(var m in moduleGlobal)global[m]=moduleGlobal[m]}var globalObj={};for(var g in global)global.hasOwnProperty(g)&&(globalObj[g]=global[g]);globalExport&&(load.source+='\nthis["'+globalExport+'"] = '+globalExport),execute();var singleGlobal,moduleGlobal;if(globalExport)singleGlobal=eval("global."+globalExport),moduleGlobal={},moduleGlobal[globalExport.split(".")[0]]=singleGlobal;else{moduleGlobal={};for(var g in global)global.hasOwnProperty(g)&&g!=global&&globalObj[g]!=global[g]&&(moduleGlobal[g]=global[g],singleGlobal?singleGlobal!==global[g]&&(singleGlobal=!1):singleGlobal!==!1&&(singleGlobal=global[g]))}return moduleGlobals[name]=moduleGlobal,singleGlobal?singleGlobal:new Module(moduleGlobal)}}}(),function(){var e=/[\/:]/;System.map={};var t=function(t){var a="",r="",n=t.split(e);e:for(var o in System.map){var s=o.split(e);if(!(s.length>n.length)){for(var l=0;l<s.length;l++)if(n[l]!=s[l])continue e;o.length<=a.length||(a=o,r=t.substr(n.splice(0,s.length).join("/").length))}}return a&&(t=System.map[a]+r),t},a=System.normalize;System.normalize=function(e,r,n){return a(t(e),r,n)}}(),function(){var e=System.normalize;System.normalize=function(t,a,r){return"@module"==t?"@module:"+a:e.call(this,t,a,r)};var t=System.locate;System.locate=function(e){return"@module"==e.name.substr(0,7)?(e.metadata.module={name:e.name.substr(8)},""):t.call(this,e)};var a=System.fetch;System.fetch=function(e){return e.metadata.module?"":a.call(this,e)};var r=System.instantiate;System.instantiate=function(e){return e.metadata.module?{deps:[],execute:function(){return new Module(e.metadata.module)}}:r.call(this,e)}}(),function(){var e=System.normalize;System.normalize=function(t,a,r){t=t.trim();var n;a&&-1!=(n=a.indexOf("!"))&&(a=a.substr(0,n));var o=t.lastIndexOf("!");if(-1!=o){var s=t.substr(0,o),l=t.substr(o+1)||s.substr(s.lastIndexOf(".")+1);return new Promise(function(e){e(System.normalize(l))}).then(function(e){return l=e,System.normalize(s,a,r)}).then(function(e){return e+"!"+l})}return e.call(this,t,a,r)};var t=System.locate;System.locate=function(e){var a=e.name,r=a.lastIndexOf("!");if(-1!=r){var n=a.substr(r+1);return e.name=a.substr(0,r),System.load(n).then(function(){var t=System.get(n);return t=t.default||t,e.metadata.plugin=t,e.metadata.pluginName=n,t.locate?t.locate.call(System,e):new Promise(function(t){t(System.locate(e))}).then(function(e){return e.substr(0,e.length-3)})})}return t.call(this,e)};var a=System.fetch;System.fetch=function(e){var t=this;return"function"==typeof e.metadata.plugin?new Promise(function(r,n){e.metadata.plugin(e.name,e.address,function(r,n,o){a.call(t,{name:e.name,address:r,metadata:{}}).then(n,o)},r,n)}):(e.metadata.plugin&&e.metadata.plugin.fetch||a).call(this,e)};var r=System.translate;System.translate=function(e){var t=e.metadata.plugin;return t&&t.translate?t.translate.call(this,e):r.call(this,e)}}(),function(){var e=/^(\d+)(?:\.(\d+))?(?:\.(\d+))?$/,t=System.normalize,a=System.versions={};System.normalize=function(r,n,o){return Promise.resolve(t.call(this,r,n,o)).then(function(t){var r,n,o,s=t.indexOf("@");if(-1==s){for(var l in a)if(t.substr(0,l.length)==l&&(o=t.charAt(l.length),!o||"/"==o))return l+"@"+a[l][0]+t.substr(l.length);return t}if(r=t.substr(s+1).split("/")[0],n=r.match(e),!n)return t;packageName=t.substr(0,s);var i=a[packageName]=a[packageName]||[];if(!n[3])for(var u=0;u<a[packageName].length;u++){var m=a[packageName][u];if(m.substr(0,r.length)==r&&"."==m.charAt(r.length))return packageName+"@"+m+t.substr(packageName.length+r.length+1)}return-1==i.indexOf(r)&&(i.push(r),n[2]&&-1!=(s=i.indexOf(n[1]+"."+n[2]))&&i.splice(s,1),-1!=(s=i.indexOf(n[1]))&&i.splice(s,1)),t})}}()},global.System)global.upgradeSystemLoader();else if("undefined"!=typeof window){var scripts=document.getElementsByTagName("script"),head=document.getElementsByTagName("head")[0],curPath=scripts[scripts.length-1].src,basePath=curPath.substr(0,curPath.lastIndexOf("/")+1);document.write('<script type="text/javascript" src="'+basePath+'es6-module-loader.js" data-init="upgradeSystemLoader"></script>')}else{var es6ModuleLoader=require("es6-module-loader");global.System=es6ModuleLoader.System,global.Loader=es6ModuleLoader.Loader,global.Module=es6ModuleLoader.Module,module.exports=global.System,global.upgradeSystemLoader()}}("undefined"!=typeof window?window:global);